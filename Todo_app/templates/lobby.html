{% extends "index.html" %}
{% block content2%}
  <main class="main-content">
    <h1>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i Todo App</h1>
    <p>Xin chÃ o {{ user.username }}</p>
  </main>

<div id="sent-tasks" class="task-list" style="margin-top: 2rem;">
  <div class="task-container">
    
    <!-- Cá»™t trÃ¡i: CÃ´ng viá»‡c báº¡n Ä‘ang nháº­n -->
    <div class="task-column">
      <h2>ğŸ“¥ CÃ´ng viá»‡c báº¡n Ä‘ang nháº­n</h2>
      {% for task in tasks_i_receive %}
        <div class="task-card {% if task.deadline <= today %}near-deadline{% endif %}" id="task-{{ task.id }}">
          <strong>{{ task.content }}</strong><br>
          Giao bá»Ÿi: {{ task.assigner.username }}<br>
          Deadline: {{ task.deadline }}<br>
          <button onclick="completeTask({{ task.id }})">âœ” HoÃ n thÃ nh</button>
          <button onclick="deleteTask({{ task.id }})">ğŸ—‘ XoÃ¡ cÃ´ng viá»‡c</button>
        </div>
      {% empty %}
        <p>Báº¡n chÆ°a nháº­n cÃ´ng viá»‡c nÃ o.</p>
      {% endfor %}
    </div>

    <!-- Cá»™t pháº£i: CÃ´ng viá»‡c báº¡n Ä‘Ã£ giao -->
    <div class="task-column">
      <h2>ğŸ“¤ CÃ´ng viá»‡c báº¡n Ä‘Ã£ giao</h2>
      {% for task in tasks_i_assign %}
        <div class="task-card {% if task.deadline <= today %}near-deadline{% endif %}" id="task-{{ task.id }}">
          <strong>{{ task.content }}</strong><br>
          Giao cho: {{ task.assignee.username }}<br>
          Deadline: {{ task.deadline }}<br>
          <button onclick="completeTask({{ task.id }})">âœ” HoÃ n thÃ nh</button>
          <button onclick="deleteTask({{ task.id }})">ğŸ—‘ XoÃ¡ cÃ´ng viá»‡c</button>
        </div>
      {% empty %}
        <p>ChÆ°a cÃ³ cÃ´ng viá»‡c nÃ o Ä‘Æ°á»£c giao.</p>
      {% endfor %}
    </div>
  </div>
</div>
{%endblock%}